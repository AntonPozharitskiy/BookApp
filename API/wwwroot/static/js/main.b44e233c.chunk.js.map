{"version":3,"sources":["routes/PrivateRoute.js","helpers/history.js","statuses/alert.status.js","statuses/user.status.js","statuses/book.status.js","actions/alert.actions.js","services/user.service.js","services/book.service.js","actions/user.actions.js","actions/book.actions.js","pages/login.js","pages/register.js","pages/BookForm.js","pages/Book.js","pages/EditBook.js","pages/BookList.js","pages/UserPage.js","app.js","reducers/authentication.reducer.js","reducers/index.js","reducers/registration.reducer.js","reducers/alert.reducer.js","reducers/books.reducer.js","helpers/store.js","index.js"],"names":["PrivateRoute","_ref","Component","component","rest","Object","objectWithoutProperties","react_default","a","createElement","Route","assign","render","props","localStorage","getItem","Redirect","to","pathname","state","from","location","AnonumousRoute","_ref2","createBrowserHistory","alertConstants","SUCCESS","ERROR","CLEAR","userConstants","REGISTER_REQUEST","REGISTER_SUCCESS","REGISTER_FAILURE","LOGIN_REQUEST","LOGIN_SUCCESS","LOGIN_FAILURE","LOGOUT","bookConstants","DELETE_REQUEST","DELETE_SUCCESS","DELETE_FAILURE","EDIT_REQUEST","EDIT_SUCCESS","EDIT_FAILURE","CREATE_REQUEST","CREATE_SUCCESS","CREATE_FAILURE","GETALL_REQUEST","GETALL_SUCCESS","GETALL_FAILURE","alertActions","success","message","type","error","clear","localhost","userService","login","email","password","requestOptions","method","headers","Content-Type","body","JSON","stringify","fetch","concat","then","handleResponse","user","setItem","logout","register","removeItem","handleLogoutResponse","response","text","data","parse","ok","status","window","reload","statusText","errors","Password","alert","Email","Promise","reject","bookService","create","book","token","accessToken","Access-Control-Allow-Origin","Authorization","getAll","update","delete","id","Title","Content","userActions","username","dispatch","failure","request","bookActions","newBook","books","edit","updatedBook","Login","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","onSubmit","e","preventDefault","_this$state","exception","console","log","handleChange","bind","assertThisInitialized","_e$target","target","name","value","setState","defineProperty","className","placeholder","onChange","Link","connect","loggingIn","authentication","Register","objectSpread","class","registering","registration","BookForm","handleSubmit","title","getTitle","content","getMessage","editing","_this2","required","ref","input","rows","cols","Book","handleDeleteClick","handleEditClick","dateOfRelease","onClick","EditBook","handleEdit","authorid","authorId","defaultValue","BookList","map","index","key","pages_EditBook","pages_Book","UserPage","userEmail","pages_BookForm","pages_BookList","App","onLogoutClick","HashRouter","NavLink","exact","PrivateRoute_PrivateRoute","path","PrivateRoute_AnonumousRoute","authenticated","initialState","combineReducers","arguments","length","undefined","action","toConsumableArray","filter","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","ReactDOM","es","app","document","getElementById"],"mappings":"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","file":"static/js/main.b44e233c.chunk.js","sourcesContent":["import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\n\r\nexport const PrivateRoute = ({ component: Component, ...rest }) => (\r\n    <Route {...rest} render={props => (\r\n        localStorage.getItem('user')\r\n            ? <Component {...props} />\r\n            : <Redirect to={{ pathname: '/login', state: { from: props.location } }} />\r\n    )} />\r\n)\r\nexport const AnonumousRoute = ({ component: Component, ...rest }) => (\r\n    <Route {...rest} render={props => (\r\n        localStorage.getItem('user')\r\n            ? <Redirect to={{ pathname: '/profile', state: { from: props.location } }} />\r\n            : <Component {...props} />\r\n    )} />\r\n)\r\nexport const RegisterRoute = ({ component: Component, ...rest }) => (\r\n    <Route {...rest} render={props => (\r\n        localStorage.getItem('register')\r\n            ? <Redirect to={{ pathname: '/login', state: { from: props.location } }} />\r\n            : <Component {...props} />\r\n    )} />\r\n)\r\n","import { createBrowserHistory } from 'history';\r\n\r\nexport const history = createBrowserHistory();\r\n","export const alertConstants = {\r\n    SUCCESS: 'ALERT_SUCCESS',\r\n    ERROR: 'ALERT_ERROR',\r\n    CLEAR: 'ALERT_CLEAR'\r\n};\r\n","export const userConstants = {\r\n    REGISTER_REQUEST: 'USERS_REGISTER_REQUEST',\r\n    REGISTER_SUCCESS: 'USERS_REGISTER_SUCCESS',\r\n    REGISTER_FAILURE: 'USERS_REGISTER_FAILURE',\r\n\r\n    LOGIN_REQUEST: 'USERS_LOGIN_REQUEST',\r\n    LOGIN_SUCCESS: 'USERS_LOGIN_SUCCESS',\r\n    LOGIN_FAILURE: 'USERS_LOGIN_FAILURE',\r\n\r\n    LOGOUT: 'USERS_LOGOUT'\r\n};\r\n","export const bookConstants = {\r\n    DELETE_REQUEST: 'BOOK_DELETE_REQUEST',\r\n    DELETE_SUCCESS: 'BOOK_DELETE_SUCCESS',\r\n    DELETE_FAILURE: 'BOOK_DELETE_FAILURE',\r\n\r\n    EDIT_REQUEST: 'BOOK_EDIT_REQUEST',\r\n    EDIT_SUCCESS: 'BOOK_EDIT_SUCCESS',\r\n    EDIT_FAILURE: 'BOOK_EDIT_SUCCESS',\r\n\r\n    CREATE_REQUEST: 'BOOK_CREATE_REQUEST',\r\n    CREATE_SUCCESS: 'BOOK_CREATE_SUCCESS',\r\n    CREATE_FAILURE: 'BOOK_CREATE_FAILURE',\r\n\r\n    GETALL_REQUEST: 'BOOK_GETALL_REQUEST',\r\n    GETALL_SUCCESS: 'BOOK_GETALL_SUCCESS',\r\n    GETALL_FAILURE: 'BOOK_GETALL_FAILURE'\r\n}\r\n","import { alertConstants } from '../statuses';\r\n\r\nexport const alertActions = {\r\n    success,\r\n    error,\r\n    clear\r\n};\r\n\r\nfunction success(message) {\r\n    return { type: alertConstants.SUCCESS, message };\r\n}\r\n\r\nfunction error(message) {\r\n    return { type: alertConstants.ERROR, message };\r\n}\r\n\r\nfunction clear() {\r\n    return { type: alertConstants.CLEAR };\r\n}\r\n","import { authHeader } from '../helpers';\r\nimport { history } from '../helpers';\r\n\r\nconst localhost = \"https://azurebookapp.azurewebsites.net\";\r\n\r\nexport const userService = {\r\n    login,\r\n    logout,\r\n    register\r\n};\r\n\r\nfunction login(email, password) {\r\n    const requestOptions = {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({ email, password })\r\n    };\r\n\r\n    return fetch(`${localhost}/Account/Login`, requestOptions)\r\n        .then(handleResponse)\r\n        .then(user => {\r\n            // store user details and jwt token in local storage to keep user logged in between page refreshes\r\n            localStorage.setItem('user', JSON.stringify(user));\r\n            return user;\r\n        });\r\n}\r\n\r\nfunction logout() {\r\n    localStorage.removeItem('user');\r\n    return fetch(`${localhost}/Account/Logout`).then(handleLogoutResponse);\r\n}\r\n\r\nfunction register(user) {\r\n    const requestOptions = {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify(user)\r\n    };\r\n\r\n    return fetch(`${localhost}/Account/Register`, requestOptions).then(handleResponse)\r\n}\r\n\r\nfunction handleResponse(response) {\r\n    return response.text().then(text => {\r\n        const data = text && JSON.parse(text);\r\n        if (!response.ok) {\r\n            if (response.status === 401) {\r\n                // auto logout if 401 response returned from api\r\n                logout();\r\n                window.location.reload(true);\r\n            }\r\n\r\n            const error = (data && data.message) || response.statusText;\r\n\r\n            if(data.errors.Password) alert(data.errors.Password);\r\n            if(data.errors.Email) alert(data.errors.Email)\r\n            return Promise.reject(error);\r\n        }\r\n\r\n        return data;\r\n    });\r\n}\r\n\r\nfunction handleLogoutResponse(response) {\r\n    return response.text().then(text => {\r\n        const data = text && JSON.parse(text);\r\n        if (!response.ok) {\r\n            if (response.status === 401) {\r\n                // auto logout if 401 response returned from api\r\n                logout();\r\n                window.location.reload(true);\r\n            }\r\n\r\n            const error = (data && data.message) || response.statusText;\r\n            return Promise.reject(error);\r\n        }\r\n\r\n        return data;\r\n    });\r\n}\r\n","\r\nimport { authHeader } from '../helpers';\r\n\r\nconst localhost = \"https://azurebookapp.azurewebsites.net\";\r\nexport const bookService = {\r\n  create,\r\n  getAll,\r\n  update,\r\n  delete: _delete\r\n}\r\n\r\nfunction create(book) {\r\n  var token = JSON.parse(localStorage.getItem('user'));\r\n  if (token) {\r\n  var accessToken = token.accessToken;\r\n  const requestOptions = {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        'Access-Control-Allow-Origin': '*',\r\n        'Authorization': 'Bearer ' + accessToken\r\n      },\r\n      body: JSON.stringify(book)\r\n  };\r\n  return fetch(`${localhost}/Books/Create`,requestOptions).then(handleResponse);\r\n  }\r\n\r\n}\r\n\r\nfunction update(book) {\r\n  var token = JSON.parse(localStorage.getItem('user'));\r\n  if (token) {\r\n  var accessToken = token.accessToken;\r\n  const requestOptions = {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        'Access-Control-Allow-Origin': '*',\r\n        'Authorization': 'Bearer ' + accessToken\r\n      },\r\n      body: JSON.stringify(book)\r\n  };\r\n  return fetch(`${localhost}/Books/Update`,requestOptions).then(handleResponse);\r\n  }\r\n}\r\n\r\nfunction _delete(id) {\r\n  var token = JSON.parse(localStorage.getItem('user'));\r\n  if (token) {\r\n  var accessToken = token.accessToken;\r\n  const requestOptions = {\r\n      method: 'POST',\r\n      headers: { 'Content-Type': 'application/json',\r\n      'Access-Control-Allow-Origin': '*',\r\n      'Authorization': 'Bearer ' + accessToken},\r\n      body: JSON.stringify(id)\r\n  };\r\n  return fetch(`${localhost}/Books/Delete/${id}`,requestOptions).then(handleResponse);\r\n  }\r\n}\r\n\r\nfunction getAll(){\r\n  var token = JSON.parse(localStorage.getItem('user'));\r\n  if (token) {\r\n  var accessToken = token.accessToken;\r\n  const requestOptions = {\r\n    method: 'GET',\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n      'Access-Control-Allow-Origin': '*',\r\n      'Authorization': 'Bearer ' + accessToken\r\n    }\r\n  };\r\n  return fetch(`${localhost}/Books/GetAll`, requestOptions).then(handleResponse);\r\n}\r\n}\r\n\r\nfunction handleResponse(response) {\r\n    return response.text().then(text => {\r\n        const data = text && JSON.parse(text);\r\n        if (!response.ok) {\r\n            if (response.status === 401) {\r\n                window.location.reload(true);\r\n            }\r\n\r\n            const error = (data && data.message) || response.statusText;\r\n            if(data.errors.Title) alert(data.errors.Title);\r\n            if(data.errors.Content) alert (data.errors.Content);\r\n            if(data.errors.Password) alert (data.errors.Password);\r\n            return Promise.reject(error);\r\n        }\r\n\r\n        return data;\r\n    });\r\n}\r\n","import { userConstants } from '../statuses';\r\nimport { userService } from '../services';\r\nimport { alertActions } from './';\r\nimport { history } from '../helpers';\r\nexport const userActions = {\r\n    login,\r\n    logout,\r\n    register\r\n};\r\n\r\nfunction login(username, password) {\r\n    return dispatch => {\r\n        dispatch(request({ username }));\r\n\r\n        userService.login(username, password)\r\n            .then(\r\n                user => {\r\n                    dispatch(success(user));\r\n                },\r\n                error => {\r\n                    dispatch(failure(error));\r\n                    dispatch(alertActions.error(error));\r\n                }\r\n            );\r\n    };\r\n\r\n    function request(user) { return { type: userConstants.LOGIN_REQUEST, user } }\r\n    function success(user) { return { type: userConstants.LOGIN_SUCCESS, user } }\r\n    function failure(error) { return { type: userConstants.LOGIN_FAILURE, error } }\r\n}\r\n\r\nfunction logout() {\r\n  return dispatch => {\r\n    dispatch(request());\r\n    userService.logout();\r\n  }\r\n  function request() { return { type: userConstants.LOGOUT }};\r\n}\r\n\r\nfunction register(user) {\r\n    return dispatch => {\r\n        dispatch(request(user));\r\n\r\n        userService.register(user)\r\n            .then(\r\n                user => {\r\n                    dispatch(success(user));\r\n\r\n                    alert(\"Registration confirmed successfully\");\r\n                },\r\n                error => {\r\n                    dispatch(failure(error));\r\n                    dispatch(alertActions.error(error));\r\n                }\r\n            );\r\n    };\r\n\r\n    function request(user) { return { type: userConstants.REGISTER_REQUEST, user } }\r\n    function success(user) { return { type: userConstants.REGISTER_SUCCESS, user } }\r\n    function failure(error) { return { type: userConstants.REGISTER_FAILURE, error } }\r\n}\r\n","import { bookConstants } from '../statuses';\r\nimport { bookService } from '../services';\r\nimport { alertActions } from './';\r\nimport { history } from '../helpers';\r\nexport const bookActions = {\r\n    create,\r\n    getAll,\r\n    edit,\r\n    update,\r\n    delete: _delete\r\n};\r\n\r\nfunction create(book) {\r\n  return dispatch => {\r\n    dispatch(request());\r\n\r\n    bookService.create(book)\r\n      .then(\r\n        newBook => {\r\n          dispatch(success(newBook));\r\n        },\r\n        error => {\r\n          dispatch(failure(error));\r\n        }\r\n      )\r\n  }\r\n  function request() { return { type: bookConstants.CREATE_REQUEST} }\r\n  function success(newBook) { return { type: bookConstants.CREATE_SUCCESS, newBook } }\r\n  function failure(error) { return { type: bookConstants.CREATE_FAILURE, error } }\r\n}\r\n\r\nfunction edit(id) {\r\n  return dispatch => {\r\n    dispatch(request());\r\n  }\r\n  function request() { return { type: bookConstants.EDIT_REQUEST, id: id } }\r\n}\r\n\r\nfunction update(data) {\r\n  return dispatch => {\r\n    bookService.update(data)\r\n      .then(\r\n        updatedBook => {\r\n          dispatch(success(updatedBook));\r\n        }\r\n      )\r\n  }\r\n  function success(updatedBook) { return { type: bookConstants.EDIT_SUCCESS, updatedBook } }\r\n}\r\n\r\nfunction _delete(id) {\r\n  return dispatch => {\r\n    dispatch(request());\r\n\r\n    bookService.delete(id)\r\n      .then(\r\n        id => {\r\n          dispatch(success(id));\r\n        },\r\n        error => {\r\n          dispatch(failure(error));\r\n        }\r\n      )\r\n    function request() { return { type: bookConstants.DELETE_REQUEST} }\r\n    function success(id) { return { type: bookConstants.DELETE_SUCCESS, id: id } }\r\n    function failure(error) { return { type: bookConstants.DELETE_FAILURE, error } }\r\n  }\r\n}\r\n\r\nfunction getAll() {\r\n  return dispatch => {\r\n    dispatch(request());\r\n    bookService.getAll()\r\n      .then(\r\n        books => {\r\n          dispatch(success(books));\r\n        },\r\n        error => {\r\n          dispatch(failure(error));\r\n        }\r\n      )\r\n  }\r\n  function request() { return { type: bookConstants.GETALL_REQUEST } }\r\n  function success(books) { return { type: bookConstants.GETALL_SUCCESS, books } }\r\n  function failure(error) { return { type: bookConstants.GETALL_FAILURE, error } }\r\n}\r\n","import React, {Component} from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { history } from '../helpers';\r\n\r\nimport { userActions } from '../actions';\r\n\r\nclass Login extends Component {\r\n    constructor(props){\r\n      super(props)\r\n      this.state = {\r\n        Email: '',\r\n        Password: ''\r\n      }\r\n      //this.onSubmit = this.onSubmit.bind(this);\r\n      this.handleChange = this.handleChange.bind(this);\r\n    }\r\n\r\n    onSubmit = (e) => {\r\n      e.preventDefault();\r\n      const { Email, Password } = this.state;\r\n      const { dispatch } = this.props;\r\n      if (Email && Password) {\r\n        try{\r\n        dispatch(userActions.login(Email, Password));\r\n        }\r\n        catch(exception) {\r\n          console.log(exception)\r\n        }\r\n\r\n      }\r\n    }\r\n\r\n    handleChange(e) {\r\n        const { name, value } = e.target;\r\n        this.setState({ [name]: value });\r\n    }\r\n\r\n    render(){\r\n      return(\r\n        <div className=\"post-container\">\r\n        <form className=\"form\" method=\"POST\" onSubmit={this.onSubmit}>\r\n            <label>Email</label> <br/>\r\n            <input placeholder=\"Email\" type=\"email\" name=\"Email\" onChange={this.handleChange}/> <br/>\r\n            <label>Password</label> <br/>\r\n            <input placeholder=\"Password\" type=\"password\" name=\"Password\" onChange={this.handleChange}/> <br/>\r\n            <input className=\"login\" type=\"submit\" value=\"Login\"/> <br/>\r\n            <Link to=\"/register\" className=\"btn btn-link\">Register as new user?</Link>\r\n        </form>\r\n        </div>\r\n      )\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    const loggingIn = state.authentication;\r\n    return {\r\n        loggingIn\r\n    };\r\n}\r\n\r\nexport default connect(mapStateToProps)(Login);\r\n","import React, {Component} from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { userActions } from '../actions';\r\n\r\nclass Register extends Component {\r\n  constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            user: {\r\n                Email: '',\r\n                Password: ''\r\n            },\r\n        };\r\n\r\n        this.handleChange = this.handleChange.bind(this);\r\n        this.onSubmit = this.onSubmit.bind(this);\r\n  }\r\n\r\n  handleChange(e) {\r\n        const { name, value } = e.target;\r\n        const { user } = this.state;\r\n        this.setState({\r\n            user: {\r\n                ...user,\r\n                [name]: value\r\n            }\r\n        });\r\n    }\r\n\r\n  onSubmit(e){\r\n    e.preventDefault();\r\n    const { user } = this.state;\r\n        const { dispatch } = this.props;\r\n        if (user.Email && user.Password) {\r\n            dispatch(userActions.register(user));\r\n        }\r\n  }\r\n\r\n  render(){\r\n      return(\r\n        <div className=\"post-container\">\r\n        <form class=\"form\" method=\"POST\" onSubmit={this.onSubmit}>\r\n            <label>Email</label> <br/>\r\n            <input type=\"email\" name=\"Email\" onChange={this.handleChange}/> <br/>\r\n            <label>Password</label> <br/>\r\n            <input type=\"password\" name=\"Password\" onChange={this.handleChange}/> <br/>\r\n            <label>Confirm password</label> <br/>\r\n            <input type=\"password\" name=\"Confirm password\"/> <br/>\r\n            <input className=\"login\" type=\"submit\" value=\"Register\"/> <br/>\r\n            <Link to=\"/login\">Cancel</Link>\r\n        </form>\r\n        </div>\r\n      )\r\n  }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    const registering = state.registration;\r\n    return {\r\n        registering\r\n    };\r\n}\r\n\r\nexport default connect(mapStateToProps)(Register);\r\n","import React, { Component } from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {bookActions} from '../actions'\r\nclass BookForm extends Component {\r\n  handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    const title = this.getTitle.value;\r\n    const content =  this.getMessage.value;\r\n    const data = {\r\n      title,\r\n      content,\r\n      editing:false\r\n    }\r\n\r\n  this.props.dispatch(bookActions.create(data));\r\n\r\n  this.getTitle.value = '';\r\n  this.getMessage.value = '';\r\n  }\r\n\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"post-container\">\r\n        <h1 className=\"post_heading\">Create Book</h1>\r\n          <form className=\"form\" onSubmit={this.handleSubmit}>\r\n             <input required type=\"text\" ref={(input)=>this.getTitle = input}\r\n             placeholder=\"Enter Post Title\"/>\r\n             <br /><br />\r\n             <textarea required rows=\"5\" ref={(input)=>this.getMessage = input} cols=\"28\"\r\n             placeholder=\"Enter Post\" />\r\n             <br /><br />\r\n             <button>Post</button>\r\n          </form>\r\n    </div>\r\n    );\r\n  }\r\n}\r\nexport default connect()(BookForm);\r\n","import React, { Component } from 'react';\r\nimport {bookActions} from '../actions';\r\n\r\nimport {connect} from 'react-redux';\r\n\r\nclass Book extends Component {\r\n  handleDeleteClick = (id) => {\r\n    this.props.dispatch(bookActions.delete(id));\r\n  }\r\n  handleEditClick = (id) => {\r\n    this.props.dispatch(bookActions.edit(id));\r\n  }\r\n  render() {\r\n  return (\r\n    <div className=\"post\">\r\n    <form>\r\n      <label>{this.props.book.dateOfRelease}</label>\r\n      <h2 className=\"post_title\">{this.props.book.title}</h2>\r\n      <p className=\"post_message\">{this.props.book.content}</p> <br/>\r\n      <div className=\"control-buttons\">\r\n      <button className=\"edit\" onClick={() => this.handleEditClick(this.props.book.id)}>Edit</button>\r\n      <button className=\"delete\" onClick={() => this.handleDeleteClick(this.props.book.id)}>Delete</button>\r\n      </div>\r\n    </form>\r\n    </div>\r\n  );\r\n }\r\n}\r\n\r\nexport default connect()(Book);\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport {bookActions} from '../actions';\r\n\r\n\r\nclass EditBook extends Component {\r\nhandleEdit = (e) => {\r\n  e.preventDefault();\r\n  const id = this.props.book.id;\r\n  const title = this.getTitle.value;\r\n  const content = this.getMessage.value;\r\n  const authorid = this.props.book.authorId;\r\n  const dateOfRelease = this.props.book.dateOfRelease;\r\n  const data = {\r\n    id,\r\n    title,\r\n    content,\r\n    authorid,\r\n    dateOfRelease\r\n  }\r\n  this.props.dispatch(bookActions.update(data))\r\n}\r\nrender() {\r\nreturn (\r\n<div onSubmit={this.handleEdit}>\r\n  <form className=\"form\">\r\n    <input required type=\"text\" ref={(input) => this.getTitle = input}\r\n    defaultValue={this.props.book.title} placeholder=\"Enter Post Title\" /><br /><br />\r\n    <textarea required rows=\"5\" ref={(input) => this.getMessage = input}\r\n    defaultValue={this.props.book.content} cols=\"28\" placeholder=\"Enter Post\" /><br /><br />\r\n    <button>Update</button>\r\n  </form>\r\n</div>\r\n);\r\n}\r\n}\r\nexport default connect()(EditBook);\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport Book from './Book';\r\nimport {bookActions} from '../actions';\r\nimport EditBook from './EditBook';\r\n\r\nclass BookList extends Component {\r\n  componentWillMount() {\r\n    this.props.dispatch(bookActions.getAll())\r\n  }\r\n  render() {\r\n    return (\r\n    <div>\r\n      <h1 className=\"post_heading\" >All Books:</h1><br/><br/>\r\n      {this.props.books.map((book, index) => (\r\n                    <div key={index}>\r\n                        {book.editing ? <EditBook key={book.id} book={book} /> :\r\n                            <Book key={book.id} book={book} />}\r\n                    </div>\r\n                ))}\r\n    </div>\r\n    );\r\n   }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        books: state.books\r\n    }\r\n}\r\nexport default connect(mapStateToProps)(BookList);\r\n","import React, {Component} from 'react';\r\nimport { connect } from 'react-redux';\r\nimport BookForm from './BookForm';\r\nimport BookList from './BookList';\r\nclass UserPage extends Component {\r\n  render() {\r\n    return(\r\n        <div className=\"App\">\r\n        <div className=\"navbar\">\r\n          <span className=\"center\">Welcome, {this.props.loggingIn.user.userEmail}!</span>\r\n          </div>\r\n          <BookForm />\r\n          <BookList />\r\n        </div>\r\n    );\r\n  }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    const loggingIn = state.authentication;\r\n    return {\r\n        loggingIn\r\n    };\r\n}\r\n\r\nexport default connect(mapStateToProps)(UserPage);\r\n","import React, {Component} from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {\r\n  Route,\r\n  NavLink,\r\n  HashRouter\r\n} from \"react-router-dom\";\r\nimport { PrivateRoute, AnonumousRoute, RegisterRoute } from './routes';\r\n\r\nimport Login from './pages/login';\r\nimport Register from './pages/register';\r\nimport UserPage from './pages/UserPage';\r\nimport { userActions } from './actions';\r\nimport './index.css'\r\nclass App extends Component {\r\n    constructor(props){\r\n      super(props);\r\n      this.onLogoutClick = this.onLogoutClick.bind(this);\r\n    }\r\n    onLogoutClick(e){\r\n      e.preventDefault();\r\n      const {dispatch} = this.props;\r\n      dispatch(userActions.logout());\r\n    }\r\n    render(){\r\n        const Authorization = () =>{\r\n          if(this.props.alert){\r\n              return(\r\n                  <li><NavLink to=\"/logout\" onClick={this.onLogoutClick}>Logout</NavLink></li>\r\n              )\r\n          }\r\n          else {\r\n              return(\r\n                  <li><NavLink to=\"/login\">Login</NavLink></li>\r\n              )\r\n          }\r\n      }\r\n      return(\r\n        <HashRouter>\r\n        <div >\r\n          <ul className=\"navbar\">\r\n            <li><NavLink exact to=\"/\">Home</NavLink></li>\r\n            <Authorization/>\r\n          </ul>\r\n          <div>\r\n            <PrivateRoute exact path=\"/\" component={UserPage}/>\r\n            <AnonumousRoute path=\"/login\" component={Login}/>\r\n            <Route path=\"/register\" component={Register}/>\r\n            <PrivateRoute path=\"/profile\" component={UserPage}/>\r\n          </div>\r\n        </div>\r\n      </HashRouter>\r\n      )\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    const alert = state.authentication.authenticated;\r\n    return {\r\n        alert\r\n    };\r\n}\r\n\r\nexport default connect(mapStateToProps)(App);\r\n","import { userConstants } from '../statuses';\r\n\r\nlet user = JSON.parse(localStorage.getItem('user'));\r\nconst initialState = user ? { authenticated: true, user } : { authenticated: false };\r\nlet initialAction = (user === null) ? userConstants.LOGIN_FAILURE  : userConstants.LOGIN_SUCCESS ;\r\n\r\nexport function authentication(state = initialState, action) {\r\n  switch (action.type) {\r\n    case userConstants.LOGIN_REQUEST:\r\n      return {\r\n        user: action.user\r\n      };\r\n    case userConstants.LOGIN_SUCCESS:\r\n      return {\r\n        authenticated: true,\r\n        user: action.user\r\n      };\r\n    case userConstants.LOGIN_FAILURE:\r\n      return {\r\n        error: action.error\r\n      };\r\n    case userConstants.LOGOUT:\r\n      return { ...state,\r\n        authenticated: false };\r\n    default:\r\n      return state\r\n  }\r\n}\r\n","import { combineReducers } from 'redux';\r\n\r\nimport { authentication } from './authentication.reducer';\r\nimport { registration } from './registration.reducer';\r\nimport { alert } from './alert.reducer';\r\nimport { books } from './books.reducer';\r\n\r\nexport default combineReducers({\r\n  authentication,\r\n  registration,\r\n  alert,\r\n  books\r\n})\r\n","import { userConstants } from '../statuses';\r\n\r\nexport function registration(state = {}, action) {\r\n  switch (action.type) {\r\n    case userConstants.REGISTER_REQUEST:\r\n      return { registering: true };\r\n    case userConstants.REGISTER_SUCCESS:\r\n      return { user: action.user };\r\n    case userConstants.REGISTER_FAILURE:\r\n      return {\r\n        error: action.error\r\n      };\r\n    default:\r\n      return state\r\n  }\r\n}\r\n","import { alertConstants } from '../statuses';\r\n\r\nexport function alert(state = {}, action) {\r\n  switch (action.type) {\r\n    case alertConstants.SUCCESS:\r\n      return {\r\n        type: 'alert-success',\r\n        message: action.message\r\n      };\r\n    case alertConstants.ERROR:\r\n      return {\r\n        type: 'alert-danger',\r\n        message: action.message\r\n      };\r\n    case alertConstants.CLEAR:\r\n      return {};\r\n    default:\r\n      return state\r\n  }\r\n}\r\n","import {bookConstants} from '../statuses';\r\nimport {bookActions} from '../actions';\r\nimport {bookService} from '../services';\r\n\r\nexport function books(state = [], action){\r\n  switch (action.type) {\r\n    case bookConstants.CREATE_REQUEST:\r\n      return [...state];\r\n    case bookConstants.CREATE_SUCCESS:\r\n      return [\r\n        ...state,\r\n        action.newBook\r\n      ];\r\n    case bookConstants.CREATE_FAILURE:\r\n      return [\r\n        ...state\r\n      ];\r\n    case bookConstants.DELETE_REQUEST:\r\n      return [...state];\r\n    case bookConstants.DELETE_SUCCESS:\r\n      return [\r\n      ...state.filter((book => book.id !== action.id))\r\n      ];\r\n    case bookConstants.DELETE_FAILURE:\r\n      return [...state];\r\n    case bookConstants.EDIT_REQUEST:\r\n      return state.map((book)=>book.id === action.id ? { ...book, editing:!book.editing }:book);\r\n    case bookConstants.EDIT_SUCCESS:\r\n      return state.map((book)=>{\r\n        if(book.id === action.updatedBook.id) {\r\n          return {\r\n            ...book,\r\n            title: action.updatedBook.title,\r\n            content:action.updatedBook.content,\r\n            editing: !book.editing\r\n          }\r\n        } else return book;\r\n      })\r\n    case bookConstants.EDIT_FAILURE:\r\n      return [\r\n      (action.error)\r\n      ];\r\n    case bookConstants.GETALL_REQUEST:\r\n      return [];\r\n    case bookConstants.GETALL_SUCCESS:\r\n      return [\r\n        ...state.concat(action.books)\r\n      ];\r\n    case bookConstants.GETALL_FAILURE:\r\n      return [\r\n        (action.console.error)\r\n      ];\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { createStore, applyMiddleware, compose } from 'redux';\r\nimport thunk from 'redux-thunk';\r\nimport combineReducers from '../reducers';\r\n\r\n/* eslint-disable */\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\nexport function configureStore(initialState) {\r\n  const store = createStore(\r\n    combineReducers,\r\n    initialState,\r\n    composeEnhancers(\r\n      applyMiddleware(thunk),\r\n    ),\r\n  );\r\n\r\n  return store;\r\n}\r\n","//CHAPTER 1\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { createStore } from 'redux';\nimport  App from './app'\nimport reducer from './reducers';\nimport { configureStore } from './helpers/store';\n\nconst store = configureStore() //createStore(reducer, window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__());\n\nReactDOM.render(<Provider store={store}><App/></Provider>, document.getElementById('root'));\n\n\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n\n// CHAPTER 2\n// import { createStore } from 'redux'\n//\n// function bookStore(state = [], action){\n//   if(action.type === 'ADD_BOOK'){\n//     return [\n//       ...state,\n//       action.payload\n//     ];\n//   }\n//   return state;\n// }\n//\n// const store = createStore(bookStore);\n// const bookInput = document.querySelectorAll('.bookInput')[0];\n// const bookList = document.querySelectorAll('.bookList')[0];\n// const addBookButton = document.querySelectorAll('.addBook')[0];\n//\n// store.subscribe(()=>{\n//     bookList.innerHTML = '';\n//     bookInput.value = '';\n//     store.getState().forEach(book => {\n//       const li = document.createElement('li');\n//       li.textContent = book;\n//       bookList.appendChild(li);\n//     })\n// }\n// )\n//\n// addBookButton.addEventListener('click', () => {\n//   const bookName = bookInput.value;\n//   store.dispatch({type: 'ADD_BOOK', payload: bookName});\n// })\n"],"sourceRoot":""}